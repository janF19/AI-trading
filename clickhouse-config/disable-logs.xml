<?xml version="1.0"?>
<clickhouse>
    <!-- Disable verbose system logging to prevent CPU/storage issues -->
    <asynchronous_metric_log remove="1"/>
    <metric_log remove="1"/>
    <trace_log remove="1"/>
    <query_thread_log remove="1"/>
    <query_views_log remove="1"/>
    <part_log remove="1"/>
    <session_log remove="1"/>
    <processors_profile_log remove="1"/>
    <text_log remove="1"/>
    <opentelemetry_span_log remove="1"/>
    <backup_log remove="1"/>
    <blob_storage_log remove="1"/>
    <filesystem_cache_log remove="1"/>

    <!-- Keep query_log but with TTL -->
    <query_log>
        <database>system</database>
        <table>query_log</table>
        <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 7 DAY</ttl>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
    </query_log>

    <!-- Keep error_log but with TTL -->
    <error_log>
        <database>system</database>
        <table>error_log</table>
        <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 7 DAY</ttl>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
    </error_log>
</clickhouse>
